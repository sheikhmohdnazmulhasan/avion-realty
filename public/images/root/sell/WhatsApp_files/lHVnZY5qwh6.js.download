;/*FB_PKG_DELIM*/

__d("WAWebStatusProfilePhotoRing.react",["WAWebDetailImage.react","WAWebFrontendStatusV3Getters","WAWebKeyboardHotKeys.react","WAWebModalManager","WAWebStatusImageRing.react","WAWebStatusQuotedFlow.react","WAWebStatusV3Getters","react","useWAWebStatusV3Values"],(function(a,b,c,d,e,f,g){var h,i=h||c("react"),j=4,k=53;function a(a){var b=a.contactStatusV3,e=a.photoSize,f=a.waitIdle,g=a.hideWhenNoUnreadStatuses,h=a.rowSection,l=a.rowIndex,m=d("useWAWebStatusV3Values").useStatusV3Values(b.id,[d("WAWebStatusV3Getters").getId,d("WAWebFrontendStatusV3Getters").getContact,d("WAWebStatusV3Getters").getTotalCount,d("WAWebStatusV3Getters").getUnreadCount]),n=m[0],o=m[1],p=m[2];m=m[3];var q=m===0&&a.hideWhenNoUnreadStatuses||p===0;m=function(a){if(q)return;a.stopPropagation();a.preventDefault();d("WAWebModalManager").ModalManager.openMedia(i.jsx(c("WAWebStatusQuotedFlow.react"),{statusV3:b,onClose:function(){return d("WAWebModalManager").ModalManager.closeMedia()},rowSection:h,rowIndex:l}),{transition:"status-v3-modal"})};a=d("WAWebDetailImage.react").getSize(e);p=a!=null?a+j:k;return i.jsxs(i.Fragment,{children:[i.jsx(d("WAWebStatusImageRing.react").StatusImageRing,{id:n,size:p,stroke:j,hideWhenNoUnreadStatuses:g,theme:d("WAWebStatusImageRing.react").RingTheme.ChatList,respectAppTheme:!0,breakRing:!1}),i.jsx(d("WAWebKeyboardHotKeys.react").HotKeys,{onClick:m,children:i.jsx(d("WAWebDetailImage.react").DetailImage,{id:o.id,theme:q?void 0:"status_v3_profile_photo_ring",size:e,waitIdle:f,ephemeralIcon:"chat-list"})})]})}a.displayName=a.name+" [from "+f.id+"]";g.StatusProfilePhotoRing=a}),98);
__d("WAWebStatusProfilePhotoRingWrapper.react",["WAWebContactGetters","WAWebDetailImage.react","WAWebStatusGatingUtils","WAWebStatusProfilePhotoRing.react","WAWebStatusV3Collection","react","useWAWebContactValues"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function a(a){var b=a.photoSize,c=a.waitIdle,e=a.hideWhenNoUnreadStatuses,f=a.rowSection,g=a.rowIndex;a=d("useWAWebContactValues").useContactValues(a.contact.id,[d("WAWebContactGetters").getId,d("WAWebContactGetters").getStatusMute,d("WAWebContactGetters").getIsMe]);var h=a[0],j=a[1];a=a[2];var k=i.jsx(d("WAWebDetailImage.react").DetailImage,{id:h,size:b,waitIdle:c,ephemeralIcon:"chat-list"});if(!d("WAWebStatusGatingUtils").isStatusV3ProfilePhotoRingEnabled()||j||a)return k;j=d("WAWebStatusV3Collection").StatusV3Collection.get(h);return j==null?k:i.jsx("div",{"data-testid":void 0,children:i.jsx(d("WAWebStatusProfilePhotoRing.react").StatusProfilePhotoRing,{contactStatusV3:j,photoSize:b,waitIdle:c,hideWhenNoUnreadStatuses:e,rowSection:f,rowIndex:g})})}a.displayName=a.name+" [from "+f.id+"]";g.StatusProfilePhotoRingWrapper=a}),98);
__d("WAWebStatusChatlistRing.react",["WAWebStatusProfilePhotoRingWrapper.react","WAWebStatusV3Collection","react","useWAWebListener"],(function(a,b,c,d,e,f,g){var h,i,j=i||c("react"),k=(h||(h=d("react"))).useState;function a(a){var b=a.contact,c=a.photoSize,e=a.waitIdle,f=a.rowSection;a=a.rowIndex;var g=k(function(){return d("WAWebStatusV3Collection").StatusV3Collection.get(b.id)});g[0];var h=g[1];g=k(b.id);var i=g[0];g=g[1];b.id!==i&&(h(d("WAWebStatusV3Collection").StatusV3Collection.get(b.id)),g(b.id));i=function(){h(d("WAWebStatusV3Collection").StatusV3Collection.get(b.id))};d("useWAWebListener").useListener(d("WAWebStatusV3Collection").StatusV3Collection,["change:msgsChanged"],i);return j.jsx("div",{"data-testid":void 0,children:j.jsx(d("WAWebStatusProfilePhotoRingWrapper.react").StatusProfilePhotoRingWrapper,{contact:b,photoSize:c,waitIdle:e,hideWhenNoUnreadStatuses:!0,rowSection:f,rowIndex:a},b.id.toString())})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebChatSearchQuery",["WAWebEventEmitter","lodash"],(function(a,b,c,d,e,f,g){var h="SEARCH_EVENT";b=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return(b=c=a.call.apply(a,[this].concat(e))||this,c.query="",c.filter={},b)||babelHelpers.assertThisInitialized(c)}var d=b.prototype;d.trimmed=function(){return this.query.trim()};d.highlighted=function(){var a=this.trimmed().toLowerCase().split(" ");return c("lodash").uniq(a)};d.$SearchQuery1=function(){return this.trimmed()===""||!this.trimmed()};d.isEmptyQuery=function(){return this.$SearchQuery1()};d.hasFilter=function(){return this.hasKindFilter()||this.hasLabelFilter()};d.hasKindFilter=function(){return Boolean(this.filter.kind)};d.hasLabelFilter=function(){return Boolean(this.filter.label)};d.updateQuery=function(a){var b=this.query;this.query=a;a.trim()!==b&&this.trigger(h)};d.updateLabelQuery=function(a){this.filter=a||{}};d.clear=function(){this.updateQuery("")};d.equals=function(a,b){return this.query===a&&this.filter.kind===(b==null?void 0:b.kind)&&this.filter.label===(b==null?void 0:b.label)};return b}(c("WAWebEventEmitter"));function a(a){return a==null?!1:Boolean(!a.isEmptyQuery()||a.hasFilter())}g.SEARCH_EVENT=h;g.SearchQuery=b;g.isSearchResult=a}),98);
__d("WAWebChatContact.scss",["cx"],(function(a,b,c,d,e,f,g,h){a={chatControls:"_agr5",screenName:"_agr6",phoneNumber:"_ajzr",contactSmall:"_agr7"};b=a;g["default"]=b}),98);
__d("WAWebChatStatus",["fbt","WAWebContactCollection","WAWebEmojiText.react","WAWebIdleComponent.react","WAWebStateUtils","WAWebTextStatusCollection","WAWebWid","react","useWAWebModelValues","useWAWebPrevious"],(function(a,b,c,d,e,f,g,h){var i,j;b=j||d("react");var k=i||(i=c("react")),l=b.useEffect,m=b.useState,n=k.jsx("span",{className:"x1lliihq x6ikm8r x10wlt62 x40yjcy xlyipyv xuxw1ft",children:h._("__JHASH__jEAwIzmBAwe__JHASH__")});function o(a){var b=a.status;a=a.waitIdle;var e=d("useWAWebModelValues").useModelValues(b,["id","stale","status"],{isStrong:!1}),f=k.jsx(d("WAWebEmojiText.react").EmojiText,{direction:"auto",selectable:!0,titlify:!0,text:e.status,breakWord:!0});b=function(){d("WAWebTextStatusCollection").TextStatusCollection.find(e.id);return e.status!==void 0?f:n};var g=d("WAWebStateUtils").unproxy(e).stale?n:f;return k.jsx(c("WAWebIdleComponent.react"),{id:e.id,onComplex:b,waitIdle:a,children:g})}o.displayName=o.name+" [from "+f.id+"]";function a(a){var b=a.id,e=m(function(){return d("WAWebTextStatusCollection").TextStatusCollection.get(b)}),f=e[0],g=e[1],h=c("useWAWebPrevious")(b);l(function(){if(!f){var a=d("WAWebContactCollection").ContactCollection.gadd(b);g(a.getStatus())}},[]);l(function(){if(!c("WAWebWid").equals(b,h)){var a=d("WAWebContactCollection").ContactCollection.gadd(b);g(a.getStatus())}},[b,h]);return!f?n:k.jsx(o,{status:f,waitIdle:a.waitIdle})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),226);
__d("WAWebChatTextStatusWrapper",["WAWebContactCollection","WAWebEmoji","WAWebEmoji.react","WAWebEmojiText.react","WAWebFlex.react","WAWebFrontendContactGetters","WAWebIdleComponent.react","WAWebTextStatusAction","WAWebTextStatusCollection","WAWebTextStatusGatingUtils","WAWebTextStatusUtils","WAWebUISpacing","asyncToGeneratorRuntime","react","stylex","useWAWebContactValues","useWAWebModelValues"],(function(a,b,c,d,e,f,g){var h,i,j=h||c("react");function a(a){var e=a.contactId;a=a.waitIdle;var f=d("WAWebContactCollection").ContactCollection.gadd(e),g=f.getStatus(),h=d("useWAWebModelValues").useModelValues(g,["id","stale","status"],{isStrong:!1});f=d("useWAWebContactValues").useContactValues(f.id,[(g=d("WAWebFrontendContactGetters")).getTextStatusString,g.getTextStatusEmoji,g.getTextStatusLastUpdateTime,g.getTextStatusExpiryTs,g.getTextStatusEphemeralDuration]);var k=f[0],l=f[1],m=f[2];g=f[3];f=f[4];var n=d("WAWebTextStatusUtils").shouldDisplayTextStatus(k,l,m,g,f),o=d("WAWebTextStatusUtils").hasTextStatusSet(k,l,m,g,f),p=j.jsx(j.Fragment,{}),q=function(){if(!n)return p;var a;if(l!=null){var b=d("WAWebEmoji").EmojiUtil.normalizeEmojiFromString(l);b!=null&&(a=j.jsx("div",{className:(i||(i=c("stylex")))(d("WAWebUISpacing").uiPadding.end5),children:j.jsx(c("WAWebEmoji.react"),{emoji:b,size:"small"},"low-res")}))}return j.jsxs(d("WAWebFlex.react").FlexRow,{align:"center",children:[a,j.jsx(d("WAWebEmojiText.react").EmojiText,{direction:"auto",selectable:!0,ellipsify:!0,titlify:!0,text:(b=k)!=null?b:"",breakWord:!0})]})},r=m===d("WAWebTextStatusUtils").TEXT_STATUS_NOT_FETCHED,s=!Boolean(k)&&!Boolean(l)&&d("WAWebTextStatusUtils").isLegacyAboutNotFetched(h);g=function(){if(!d("WAWebTextStatusGatingUtils").receiveTextStatusEnabled())return p;if(o)return q();return!r&&d("WAWebTextStatusUtils").hasCustomAboutSet(h)?j.jsx(j.Fragment,{children:h.status}):p};var t=g();f=function(){var a=function(){var a=b("asyncToGeneratorRuntime").asyncToGenerator(function*(){var a;r?a=d("WAWebTextStatusAction").getTextStatus(e,m):s&&(a=d("WAWebTextStatusCollection").TextStatusCollection.find(e));return a});return function(){return a.apply(this,arguments)}}();void a();return t};return j.jsx(c("WAWebIdleComponent.react"),{id:e,onComplex:f,waitIdle:a,children:t})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("WAWebContactImage.react",["WAWebChatSearchQuery","WAWebDetailImage.react","WAWebStatusChatlistRing.react","WAWebStatusProfilePhotoRingWrapper.react","WAWebWamEnumStatusRowSection","react"],(function(a,b,c,d,e,f,g){var h,i=h||c("react");function a(a){var b=a.contact,e=a.ephemeralIcon,f=a.loadPicture;f=f===void 0?!0:f;var g=a.searchQuery,h=a.showStatusRingAroundProfilePhoto,j=a.size;a.theme;a=a.waitIdle;return h===!0?d("WAWebChatSearchQuery").isSearchResult(g)?i.jsx(c("WAWebStatusChatlistRing.react"),{contact:b,photoSize:j,waitIdle:a,rowSection:d("WAWebWamEnumStatusRowSection").STATUS_ROW_SECTION.CHAT_LIST_SEARCH,rowIndex:0}):i.jsx(d("WAWebStatusProfilePhotoRingWrapper.react").StatusProfilePhotoRingWrapper,{contact:b,waitIdle:a,photoSize:j,hideWhenNoUnreadStatuses:!1,rowSection:d("WAWebWamEnumStatusRowSection").STATUS_ROW_SECTION.GROUP_PARTICIPANT,rowIndex:0}):i.jsx(d("WAWebDetailImage.react").DetailImage,{id:b.id,size:j,ephemeralIcon:e,waitIdle:a,loadPicture:f})}a.displayName=a.name+" [from "+f.id+"]";g.ContactImage=a}),98);
__d("useWAWebSearchQuery",["WALogger","WAWebChatSearchQuery","useWAWebEventTargetValue"],(function(a,b,c,d,e,f,g){function h(){var a=babelHelpers.taggedTemplateLiteralLoose(["useSearchQuery: searchQuery is undefined"]);h=function(){return a};return a}function i(a,b){var e=c("useWAWebEventTargetValue")(a,d("WAWebChatSearchQuery").SEARCH_EVENT,function(){a||d("WALogger").WARN(h());return b(a)});return e}function a(a){a=i(a,function(a){return(a=a==null?void 0:a.trimmed())!=null?a:""});return a}function b(a){a=i(a,function(a){return(a=a==null?void 0:a.highlighted())!=null?a:[]});return a}g.useSearchText=a;g.useHighlightedText=b}),98);
__d("WAWebChatContact.react",["fbt","$InternalEnum","WANullthrows","WAWebChatCell.react","WAWebChatCollection","WAWebChatContact.scss","WAWebChatStatus","WAWebChatTextStatusWrapper","WAWebClassnames","WAWebCommonNewsletterStrings","WAWebContactGetters","WAWebContactImage.react","WAWebContactModel","WAWebDomScroll","WAWebEmojiText.react","WAWebFocusTracer","WAWebFrontendContactGetters","WAWebGroupType","WAWebKeyboardHotKeys.react","WAWebName.react","WAWebStateUtils","WAWebTag.react","WAWebTextStatusGatingUtils","WAWebWid","WAWebXAltIcon","WAWebXAltSmallIcon","react","useWAWebContactValues","useWAWebForceUpdate","useWAWebListener","useWAWebMergeRefs","useWAWebSearchQuery"],(function(a,b,c,d,e,f,g,h){var i,j;e=j||d("react");var k=i||(i=c("react")),l=e.forwardRef,m=e.useRef,n=e.useState,o=b("$InternalEnum").Mirrored(["SMALL","DEFAULT","REACTION_TRAY"]);function p(a,b){var e,f;f=d("useWAWebContactValues").useContactValues(a.contact.id,[(f=d("WAWebContactGetters")).getId,d("WAWebFrontendContactGetters").getPendingAction,f.getNotifyName,f.getName,f.getShowBusinessCheckmarkAsPrimary,f.getIsGroup,d("WAWebFrontendContactGetters").getFormattedPhone,f.getVerifiedName,f.getVerifiedLevel]);var g=f[0],i=f[1],j=f[2],l=f[3],p=f[4],q=f[5],r=f[6],s=f[7];f=f[8];var t=a.contact,u=a.secondary,v=a.onDelete,w=a.onClick,x=a.contextEnabled,y=a.contextMenu,z=a.admin;z=z===void 0?!1:z;var A=a.showNotifyName,B=a.elevatedPushNamesEnabled;B=B===void 0?!1:B;var C=a.waitIdle,D=a.theme,E=a.useShortName,F=a.detail,G=a.isPendingParticipant;G=G===void 0?!1:G;var H=a.newsletterMembershipType,aa=a.ephemeralIcon,I=a.listenForAdminChange;I=I===void 0?!1:I;var J=a.participantCollection,K=a.searchQuery,L=a.hideStatus;L=L===void 0?!1:L;var M=a.showMessageYourselfName;M=M===void 0?!1:M;var N=a.loadPicture;N=N===void 0?!0:N;var O=a.isSearchResult,ba=O===void 0?!1:O,ca=a.chatOrigin;O=a.tabIndex;var da=a.role,P=m(null),Q=m(null);b=c("useWAWebMergeRefs")(b,Q);var ea=c("useWAWebForceUpdate")(),R=n(!1),S=R[0],T=R[1];R=d("useWAWebSearchQuery").useSearchText(K);var U=a.active?a.active.value instanceof c("WAWebContactModel")&&a.active.value.id.equals(t.id):!1;S!==U&&T(U);U=function(a,b){if(a==="focus"){var e=Q.current;e&&(c("WAWebFocusTracer").focus(e),b&&d("WAWebDomScroll").scrollIntoViewIfNeeded(e))}T(!!a)};var V=g.toString();d("useWAWebListener").useListener(a.active,V,U);d("useWAWebListener").useListener(I&&J?J:null,["change:isAdmin","change:isSuperAdmin"],function(a){c("WAWebWid").equals(a.id,g)&&ea()});V=function(){return!1};U=function(b){b.stopPropagation(),v&&v(b,d("WAWebStateUtils").unproxy(a.contact))};var W=function(a){w&&w(a,d("WAWebStateUtils").unproxy(t),ba,ca)},fa=function(a){a.button===0&&W(a)},X=function(a){a.preventDefault(),a.stopPropagation(),W(a)},ga=function(b){a.onContext==null?void 0:a.onContext(b,t)},ha=function(b){a.allowFocusEventPropagation!==!0&&b.stopPropagation();b.preventDefault();(b=P.current)==null?void 0:b.indicateFocus()};e=d("WAWebClassnames").classnamesConvertMeToStylexPlease((e={},e[c("WAWebChatContact.scss").contactSmall]=a.type===o.SMALL,e));var Y,Z,$;(l==null||l==="")&&(s==null||s===""||f===0)&&A===!0&&j!=null&&j!==""&&($=B?k.jsx("span",{className:c("WAWebChatContact.scss").phoneNumber,children:k.jsx(d("WAWebEmojiText.react").EmojiText,{direction:"auto",text:r})}):k.jsx("span",{className:c("WAWebChatContact.scss").screenName,children:k.jsx(d("WAWebEmojiText.react").EmojiText,{direction:"auto",text:j})}));s=Boolean(z||I&&(J==null?void 0:(l=J.get(g))==null?void 0:l.isAdmin));r=k.jsx(d("WAWebTag.react").Tag,{testid:void 0,children:h._("__JHASH__Y1wSabuFzaL__JHASH__")});j=(l=J==null?void 0:(j=J.getChat())==null?void 0:(z=j.groupMetadata)==null?void 0:z.groupType)!=null?l:d("WAWebGroupType").GroupType.DEFAULT;switch(j){case d("WAWebGroupType").GroupType.COMMUNITY:l=Boolean(I&&(J==null?void 0:(z=J.get(g))==null?void 0:z.isSuperAdmin));l?Z=k.jsx(d("WAWebTag.react").Tag,{testid:void 0,children:h._("__JHASH__6nmfnVvIQj7__JHASH__")}):s&&(Z=r);break;case d("WAWebGroupType").GroupType.LINKED_ANNOUNCEMENT_GROUP:s&&(Z=r);break;default:s&&(Z=k.jsx(d("WAWebTag.react").Tag,{testid:void 0,children:h._("__JHASH__EQscEcJuNfP__JHASH__")}))}G&&(Z=k.jsx(d("WAWebTag.react").Tag,{testid:void 0,children:h._("__JHASH__QkB1PXXLrS5__JHASH__")}));if(H!=null){j=d("WAWebCommonNewsletterStrings").getNewsletterMembershipRoleTag(H);j!=null&&(Z=k.jsx(d("WAWebTag.react").Tag,{testid:void 0,theme:d("WAWebTag.react").TagTheme.Primary,children:j}))}if(F!=null)Y=F;else if(v){I=a.type===o.SMALL?k.jsx(d("WAWebXAltSmallIcon").XAltSmallIcon,{}):k.jsx(d("WAWebXAltIcon").XAltIcon,{});Y=k.jsx("div",{"data-testid":void 0,className:c("WAWebChatContact.scss").chatControls,role:"button",onClick:U,"aria-label":h._("__JHASH__590kYmgoS8y__JHASH__"),children:I})}J=u;J==null&&!L&&(d("WAWebTextStatusGatingUtils").receiveTextStatusEnabled()?J=k.jsx(c("WAWebChatTextStatusWrapper"),{contactId:t.id,waitIdle:C}):J=k.jsx(c("WAWebChatStatus"),{id:g,waitIdle:C}));z=a.type===o.SMALL?26:a.photoSize;D==="chat-info"&&(z=40);l={enter:X,space:X};r=a.mouseDownAsClick;if(q){s=c("WANullthrows")(d("WAWebChatCollection").ChatCollection.get(g.toString()));G=k.jsx(d("WAWebName.react").Name,{chat:s,useShortName:E,highlightText:R,showBusinessCheckmark:p,showLabel:!0,titlify:!0,ellipsify:!0})}else G=k.jsx(d("WAWebName.react").Name,{contact:t,useShortName:E,highlightText:R,showBusinessCheckmark:p,showLabel:!0,showNotifyName:B&&A,useVerifiedName:B&&f>0,elevatedPushNamesEnabled:B,titlify:!0,ellipsify:!0,you:!0,showMessageYourselfName:M});H=D==="list-names"&&!v?"list-names-no-delete":D;j=k.jsx(d("WAWebContactImage.react").ContactImage,{contact:t,size:z,theme:D,waitIdle:C,ephemeralIcon:aa,searchQuery:K,showStatusRingAroundProfilePhoto:a.showStatusRingAroundProfilePhoto,loadPicture:N});return k.jsx(d("WAWebKeyboardHotKeys.react").HotKeys,babelHelpers["extends"]({ref:b,handlers:l,onFocus:ha,className:e},w&&{role:"button"},{children:k.jsx(c("WAWebChatCell.react"),babelHelpers["extends"]({ref:P,theme:H,active:S,contextEnabled:x||V,contextMenu:y,pendingAction:i,detail:Y,image:j,primary:G,primaryDetail:Z,secondary:J,secondaryDetail:$,onClick:r?null:W,onMouseDown:r?fa:null,onContext:ga,tabIndex:O,containerRole:da},M&&{testid:"message-yourself-row",extendSecondaryEllipsis:!0}))}))}p.displayName=p.name+" [from "+f.id+"]";function a(){return l(p)}e=l(p);g.ContactCellType=o;g.ContactFactory=a;g.Contact=e}),226);